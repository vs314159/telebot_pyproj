import gspread


async def number_of_lessons_from_sheets(message: types.Message):
    gs = gspread.service_account(filename='credits.json')  # –ø–æ–¥–∫–ª—é—á–∞—î–º–æ —Ñ–∞–π–ª –∑ –∫–ª—é—á–∞–º–∏ —ñ —Ç–¥.
    sh = gs.open_by_key('1p9KvkfjsJOs-7EfVVlysiMVCy6JWBsLXeJTdXsoPbVs')  # –ø–æ–¥–∫–ª—é—á–∞—î–º–æ —Ç–∞–±–ª–∏—Ü—é –ø–æ ID
    worksheet = sh.sheet1  # –æ—Ç—Ä–∏–º—É—î–º–æ –ø–µ—Ä—à–∏–π –ª–∏—Å—Ç

    res = worksheet.get_all_records()  # –≤–∏–∫–ª–∏–∫ –≤—Å—ñ—Ö –¥–∞–Ω–∏—Ö –∑ —Ç–∞–±–ª–∏—Ü—ñ

    name = input("Enter your name: ")  # —Ü–µ–π —Ä—è–¥–æ–∫ –¥–ª—è –ø–µ—Ä–µ–≤—ñ—Ä–∫–∏ | –π–æ–≥–æ —Ç—Ä–µ–±–∞ –ø—Ä–∏–±—Ä–∞—Ç–∏ | —ñ –∑–∞–º—ñ–Ω–∏—Ç–∏ –Ω–∞ –Ω–æ–º–µ—Ä
    num = 0  # –¥–ª—è —Ü–∏–∫–ª—É –∑ –ø–æ—à—É–∫—É –ø–æ—Ç—Ä—ñ–±–Ω–æ–≥–æ —É—á–Ω—è

    for lessons in res:
        if res[num]['–£—á–µ–Ω–∏–∫'] == name.title():
            # –ø–µ—Ä–µ–≤—ñ—Ä–∫–∞ –∑–∞—Ä–∞–∑ –∑–∞ —ñ–º'—è–º –≤—ñ–¥–±—É–≤–∞—î—Ç—å—Å—è, "name" –∑–∞–º—ñ–Ω—é—î–º–æ –Ω–∞ –∑–º—ñ–Ω–Ω—É, —â–æ –≤—ñ–¥–ø–æ–≤—ñ–¥–∞—î –∑–∞ –Ω–æ–º–µ—Ä
            num_lessons = res[num]['–±–∞–ª–∞–Ω—Å —É—Ä–æ–∫–æ–≤']  # —Ç—É—Ç –≤–∏–∫–ª–∏–∫–∞—î—Ç—å—Å—è –∑ —Ç–∞–±–ª–∏—á–∫–∏ –∫–æ–ª–æ–Ω–∫–∞, —â–æ –º—ñ—Å—Ç–∏—Ç—å –∑–∞–ª–∏—à–æ–∫ —É—Ä–æ–∫—ñ–≤
            if int(num_lessons) <= 0:
                await message.answer(f"–ö—ñ–ª—å–∫—ñ—Å—Ç—å —Å–ø–ª–∞—á–µ–Ω–∏—Ö –∑–∞–Ω—è—Ç—å: {res[num]['–±–∞–ª–∞–Ω—Å —É—Ä–æ–∫–æ–≤']}")
                await message.answer(
                    f"–£–ø—Å! ü§≠\n–ó–∞–ª–∏—à–æ–∫ –∑–∞–Ω—è—Ç—å –º–µ–Ω—à–µ 1 \n—Ä–µ–∫–æ–º–µ–Ω–¥—É—î–º–æ –ø–æ–ø–æ–≤–Ω–∏—Ç–∏ –±–∞–ª–∞–Ω—Å üëáüèº")
                # —Ç—É—Ç —Ç—Ä–µ–±–∞ –¥–æ–¥–∞—Ç–∏ –∫–Ω–æ–ø–∫—É –Ω–∞ —Ñ—É–Ω–∫—Ü—ñ—é –∑ –ø–æ–ø–æ–≤–Ω–µ–Ω–Ω—è –∫—ñ–ª—å–∫–æ—Å—Ç—ñ –∑–∞–Ω—è—Ç—å
            else:
                await message.answer(f"–ö—ñ–ª—å–∫—ñ—Å—Ç—å —Å–ø–ª–∞—á–µ–Ω–∏—Ö –∑–∞–Ω—è—Ç—å: {res[num]['–±–∞–ª–∞–Ω—Å —É—Ä–æ–∫–æ–≤']} ")
                await message.answer(f"–î–æ –∑—É—Å—Ç—Ä—ñ—á—ñ –Ω–∞ –∑–∞–Ω—è—Ç—Ç—è—Ö! üòâ")
                # —Ç—É—Ç —Ç—Ä–µ–±–∞ –¥–æ–¥–∞—Ç–∏ –∫–Ω–æ–ø–∫–∏ –≥–æ–ª–æ–≤–Ω–æ–≥–æ –º–µ–Ω—é, —á–∏ –∫—É–¥–∏ –≤–æ–Ω–æ –º–∞—î –ø–æ–≤–µ—Ä—Ç–∞—Ç–∏—Å—å
        num += 1